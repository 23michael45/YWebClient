{"version":3,"sources":["webpack:///F:/merchant_app/yuji-admin/main.js","webpack:///F:/merchant_app/yuji-admin/pages/edit_goods/edit_goods.vue?a20f","webpack:///F:/merchant_app/yuji-admin/pages/edit_goods/edit_goods.vue?0c17","webpack:///F:/merchant_app/yuji-admin/pages/edit_goods/edit_goods.vue?35e0","webpack:///F:/merchant_app/yuji-admin/pages/edit_goods/edit_goods.vue?bb79","webpack:///F:/merchant_app/yuji-admin/pages/edit_goods/edit_goods.vue","webpack:///F:/merchant_app/yuji-admin/pages/edit_goods/edit_goods.vue?aeb5","webpack:///F:/merchant_app/yuji-admin/pages/edit_goods/edit_goods.vue?6d08"],"names":["createPage","Page","that","components","videoPlay","data","video","show","List","oldList","isCanPrivate","info","oldInfo","goodsId","videoList","delList","addList","isAtlas","onLoad","options","id","getGoods","methods","which_page","pageSize","getDetail","then","res","console","log","list","imgList","sort","unit","ChooseImage","uni","chooseImage","count","sizeType","sourceType","success","length","concat","url","tempFilePaths","seqno","push","chooseVideo","maxDuration","tempFilePath","ViewImage","i","arr","forEach","el","previewImage","urls","current","showVideo","hideVideo","DelVideo","hasOwnProperty","DelImg","index","obj","splice","upGoods","showToast","title","duration","icon","showLoading","mask","delGoodsImgVideo","addGoodsImgVideo","upGoodsInfo","Promise","all","$emit","hideLoading","step","$Router","back","catch","err","resolve","reject","goodsNameId","type"],"mappings":"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","file":"pages/edit_goods/edit_goods.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/edit_goods/edit_goods.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./edit_goods.vue?vue&type=template&id=0fbb346c&\"\nimport script from \"./edit_goods.vue?vue&type=script&lang=js&\"\nexport * from \"./edit_goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit_goods.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0fbb346c', component.options)\n    } else {\n      api.reload('0fbb346c', component.options)\n    }\n    module.hot.accept(\"./edit_goods.vue?vue&type=template&id=0fbb346c&\", function () {\n      api.rerender('0fbb346c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/merchant_app/yuji-admin/pages/edit_goods/edit_goods.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit_goods.vue?vue&type=template&id=0fbb346c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit_goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit_goods.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet that;\nimport {\n\tnuGoodName,\n\tsearchGoods,\n\tdelGoodsImg,\n\tupGoodsImg\n} from '@/axios/index.js'\nimport {\n\tgenerateUUID,\n\tdateFormat,\n\tcompareUp\n} from '@/utils/util.js'\nimport videoPlay from '@/components/video-play.vue'\nexport default {\n\tcomponents: {\n\t\tvideoPlay\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvideo: '',\n\t\t\tshow: false,\n\t\t\tList: [],\n\t\t\toldList: [],\n\t\t\tisCanPrivate: 1, //1图片商品 2视频商品\n\t\t\tinfo: '', //商品详情\n\t\t\toldInfo: '',\n\t\t\tgoodsId: '', //商品id\n\t\t\tvideoList: [],\n\t\t\tdelList:[],\n\t\t\taddList:[],\n\t\t\tisAtlas: ''\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tthat = this;\n\t\tthat.isCanPrivate = options.isCanPrivate\n\t\tthat.goodsId = options.id\n\t\tthat.isAtlas = options.isAtlas?options.isAtlas: ''\n\t\tthat.getGoods()\n\t},\n\tmethods: {\n\t\tgetGoods: function() {\n\t\t\tsearchGoods({\n\t\t\t\twhich_page: 1,\n\t\t\t\tpageSize: 20,\n\t\t\t\tgetDetail: 1,\n\t\t\t\tid: that.goodsId\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthat.List = res.info.list[0].imgList.sort(compareUp(res.info.list[0].imgList,'seqno'))\n\t\t\t\tthat.info = res.info.list[0].unit\n\t\t\t\tthat.oldInfo = res.info.list[0].unit\n\t\t\t\tconsole.log(that.List)\n\t\t\t})\n\t\t},\n\t\tChooseImage() {\n\t\t\tif (that.isCanPrivate == 1) {\n\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album'], //从相册选择\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif (that.List.length != 0) {\n\t\t\t\t\t\t\tthat.List = that.List.concat({url:res.tempFilePaths[0],seqno: that.List[that.List.length-1].seqno + 1})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.List = [{url:res.tempFilePaths[0], seqno: 1}]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.addList.push(that.List[that.List.length-1])\n\t\t\t\t\t\tconsole.log(that.addList)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.chooseVideo({\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tsourceType: ['camera', 'album'],\n\t\t\t\t\tmaxDuration: 15,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t// if(res.duration > 15) {\n\t\t\t\t\t\t// \tuni.showToast({\n\t\t\t\t\t\t// \t\ttitle: `视频时长不能大于15秒`,\n\t\t\t\t\t\t// \t\tduration: 2000,\n\t\t\t\t\t\t// \t\ticon: 'none'\n\t\t\t\t\t\t// \t});\n\t\t\t\t\t\t// \treturn false;\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tthat.List = [{\n\t\t\t\t\t\t\turl: res.tempFilePath,\n\t\t\t\t\t\t\tseqno: 1\n\t\t\t\t\t\t}];\n\t\t\t\t\t\tthat.addList = that.List.concat()\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tViewImage: function(i) { //展示图片\n\t\t\tvar arr = []\n\t\t\tthat.List.forEach((el) => {\n\t\t\t\tarr.push(el.url)\n\t\t\t})\n\t\t\tuni.previewImage({\n\t\t\t\turls: arr,\n\t\t\t\tcurrent: i\n\t\t\t});\n\t\t},\n\t\tshowVideo: function(url) { //播放视频\n\t\t\tthat.video = url\n\t\t\tthat.show = true\n\t\t},\n\t\thideVideo: function() { //停止视频\n\t\t\tthat.show = false\n\t\t},\n\t\tDelVideo: function() { //删除视频\n\t\t\tif(that.List[0].hasOwnProperty('id')) {\n\t\t\t\tthat.delList.push(that.List[0])\n\t\t\t}\n\t\t\tthat.List = []\n\t\t},\n\t\tDelImg: function(index) { //删除图片\n\t\t\tvar obj = that.List[index]\n\t\t\tif(obj.hasOwnProperty('id')) {\n\t\t\t\tthat.delList.push(obj)\n\t\t\t} else {\n\t\t\t\tthat.addList.forEach((el,i)=>{\n\t\t\t\t\tif(el.url == obj.url) {\n\t\t\t\t\t\tthat.addList.splice(i,1)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tthat.List.splice(index, 1)\n\t\t},\n\t\tupGoods: function() {\n\n\t\t\tif (!that.List.length) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: `请上传${that.isCanPrivate==1?\"图片\":\"视频\"}`,\n\t\t\t\t\tduration: 2000,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!that.info) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: `商品描述不能为空`,\n\t\t\t\t\tduration: 2000,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '保存中...',\n\t\t\t\tmask: true,\n\t\t\t})\n\t\t\tvar list = []\n\t\t\tthat.delList.forEach( el=>{\n\t\t\t\tlist.push(that.delGoodsImgVideo(el.id)) \n\t\t\t})\n\t\t\tthat.addList.forEach(el=>{\n\t\t\t\tlist.push(that.addGoodsImgVideo(el.url,el.seqno))\n\t\t\t})\n\t\t\tlist.push(that.upGoodsInfo())\n\t\t\tPromise.all(list).then(res=>{\n\t\t\t\tuni.$emit('getGoods')\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: `保存成功`,\n\t\t\t\t\tduration: 2000,\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tmask: true\n\t\t\t\t});\n\t\t\t\tvar step = that.isAtlas? 2: 1\n\t\t\t\tthat.$Router.back(step)\n\n\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t\n\t\t},\n\t\tupGoodsInfo: function() { //修改详情\n\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\tif (that.info != that.oldInfo) {\n\t\t\t\t\tnuGoodName({\n\t\t\t\t\t\tid: that.goodsId,\n\t\t\t\t\t\tunit: that.info\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tresolve()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\taddGoodsImgVideo: function(url,seqno) { //添加图片或者视频\n\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\t\n\t\t\t\tupGoodsImg(url,{\n\t\t\t\t\tgoodsNameId: that.goodsId,\n\t\t\t\t\tseqno: seqno,\n\t\t\t\t\ttype: 1\n\t\t\t\t}).then((res) => {\n\t\t\t\t\t\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tdelGoodsImgVideo: function(id) { //删除图片或者视频\n\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\n\t\t\t\tdelGoodsImg({\n\t\t\t\t\tid\n\t\t\t\t}).then((res) => {\n\t\t\t\t\t\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t\t\t\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit_goods.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit_goods.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}